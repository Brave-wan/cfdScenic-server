package com.htkj.cfdScenic.app.dao;

import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Repository;

import com.htkj.cfdScenic.app.model.RestaurantOrder;
import com.htrj.common.base.BaseDao;
import com.htrj.common.page.Page;
import com.htrj.common.page.PageRequest;

@Repository
public class RestaurantOrderDao extends BaseDao<RestaurantOrder,Integer>{

	/**
	 * 保存饭店订单
	 */
	public void saveRestaurantOrder(RestaurantOrder restaurantOrder){
		getSqlSession().insert(getStatementName("saveRestaurantOrder"),restaurantOrder);
	}

	public Map selectRestaurantOrderById(Long id) {
		return getSqlSession().selectOne(getStatementName("selectRestaurantOrderById"),id);
	}

	public void updateRestaurantOrder(Map map) {
		getSqlSession().update(getStatementName("updateRestaurantOrder"),map);
	}

	public void updateUndoRestaurantOrder(Long id) {
		getSqlSession().update(getStatementName("updateUndoRestaurantOrder"),id);
	}
	//获取饭店为使用订单
	public List<Map<String,Object>> findRestaurantOrder(Map map) {
		return getSqlSession().selectList(getStatementName("findRestaurantOrder"),map);
	}

	public Map<String, Object> findRestaurantOrderDetail(Long orderId) {
		return getSqlSession().selectOne(getStatementName("findRestaurantOrderDetail"),orderId);
	}

	public void restaurantBackMoney(Map map) {
		getSqlSession().update(getStatementName("restaurantBackMoney"),map);
	}

	public Page findOrderList(PageRequest<Map<String, Object>> pageRequest) {
		return pageQuery(getStatementName("findOrderList"),pageRequest);
	}

	public RestaurantOrder findOrder(String orderCode) {
		return getSqlSession().selectOne(getStatementName("findOrder"),orderCode);
	}

	public void updateState(String orderCode) {
		getSqlSession().update(getStatementName("updateState"),orderCode);
	}

	public void updateOrderState(RestaurantOrder restaurantOrder) {
		getSqlSession().update(getStatementName("updateOrderState"),restaurantOrder);
	}
}
