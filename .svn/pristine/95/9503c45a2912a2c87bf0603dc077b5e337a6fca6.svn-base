<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.htkj.cfdScenic.app.dao.ShopUserDao">

	<select id="selectById" parameterType="long" resultType="INTEGER">
		select count(1) from shop_user where id = #{userId}
	</select>

	<select id="selectByPhone" parameterType="String" resultType="com.htkj.cfdScenic.app.model.ShopUser">
		select * from shop_user where telphone = #{telphone}
	</select>
	
	<update id="updateUUID" parameterType="com.htkj.cfdScenic.app.model.ShopUser">
		update shop_user set shop_token = #{shopToken} where id = #{userId}
	</update>
	
	<update id="updatePassWord" parameterType="com.htkj.cfdScenic.app.model.ShopUser">
		update shop_user set password = #{password} where telphone = #{telphone}
	</update>
	
	
	<insert id="insertMessage" parameterType="com.htkj.cfdScenic.app.model.ShopUser">
	insert into 
	shop_user 
	(id,
	name,
	telphone,
	nickname,
	password,
	sex,
	age,
	realname,
	idcard,
	hold_card_img,
	face_card_img,
	back_card_img,
	shopname,
	shop_type,
	business_scope,
	account_type,
	account_name,
	bank_card,
	account_bank,
	is_license,
	license_img,
	other_img1,
	other_img2,
	createtime,
	shop_token,
	shop_img,
	state,
	is_audit,
	cash_password
	) values (
	#{id},
	#{name},
	#{telphone},
	#{nickname},
	#{password},
	#{sex},
	#{age},
	#{realname},
	#{idcard},
	#{holdCardImg},
	#{faceCardImg},
	#{backCardImg},
	#{shopname},
	#{shopType},
	#{businessScope},
	#{accountType},
	#{accountName},
	#{bankCard},
	#{accountBank},
	#{isLicense},
	#{licenseImg},
	#{otherImg1},
	#{otherImg2},
	now(),
	#{shopToken},
	#{shopImg},
	#{state},
	#{isAudit},
	#{cashPassword}
	)
	</insert>
	
	
	<select id="shopUserMessage" parameterType="Long" resultType="map">
		select 
		shopname,
		shop_type,
		business_scope,
		account_type,
		account_name,
		bank_card,
		account_bank,
		is_license,
		license_img,
		other_img1,
		other_img2 
		from shop_user where id = #{id}
	</select>
	
	
	<select id="shopAutonymMessage" parameterType="Long" resultType="map">
		select 
		realname,
		sex,
		idcard,
		hold_card_img,
		face_card_img,
		back_card_img 
		from shop_user where id = #{id}
	</select>
	
</mapper>