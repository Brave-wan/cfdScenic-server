<%@ page contentType="text/html; charset=UTF-8"
	trimDirectiveWhitespaces="true"%>
<%@ include file="/WEB-INF/views-commons/header.jsp"%>
<div class="easyui-layout" data-options="fit:true">
	<div data-options="region:'north',border:false" style="height: 220px;">
		<div class="panel_title">
			<div style="float: left; padding: 10px">
				<i class="curLoca"></i><font class="fontbold">当前位置:</font>系统管理-分享规则设置
			</div>
		</div>
		<div class="titlediv">
			<div class="titleTxt">
				<h2>查询条件</h2>
				<em></em>
			</div>
		</div>
		<div class="querydiv">
			<p>
				<label for="searchValue">查询类别：</label> <select id="searchValue"
					name="sharetype" class="easyui-combobox"
					data-options="panelHeight: 'auto',editable:false">
					<option checked value="0">无次数限制</option>
					<option value="1">有次数限制</option>
				</select>
			</p>
			<p>
				<a href="javascript:void(0)" class="easyui-linkbutton"
					iconCls="icon-search" onclick="shareRuleManager.serch()">查询</a>
			</p>
		</div>
		<div class="titlediv">
			<div class="titleTxt">
				<h2>分享规则设置</h2>
				<em></em>
			</div>
		</div>
		<div class="menubtndiv">
			<a id="shareRuleAddBtn" href="javascript:void(0)"
				onclick="shareRuleManager.add()" class="easyui-linkbutton"
				iconCls="icon-add">新增</a> <a id="shareRuleEditBtn"
				href="javascript:void(0)" onclick="shareRuleManager.edit()"
				class="easyui-linkbutton" iconCls="icon-redo">修改</a><a
				id="shareRuleDelBtn" href="javascript:void(0)"
				onclick="shareRuleManager.del()" class="easyui-linkbutton"
				iconCls="icon-add">删除</a>
		</div>

	</div>
	<div data-options="region:'center',border:true">
		<div class="easyui-layout" data-options="fit:true">
			<div data-options="region:'center'">
				<table id="shareRuleGid" class="easyui-datagrid"
					data-options="
				url:'./background/shareRule/shareRuleData.json',
				border:false,
				fit:true,
				singleSelect:true,
				idField:'id',
				pagination:true,
				pageSize:20,
				striped:true,
				fitColumns:true">
					<thead>
						<tr>
							<th
								data-options="align:'center',width:100,hidden:true,field:'id'">id</th>
							<th
								data-options="align:'center',width:100,field:'sharetype',formatter:function(v,r,i){
									switch (v) {
									case 0:
										return '无次数限制';
									case 1:
										return '有次数限制';
									}
								}">分享规则类型</th>
							<th
								data-options="align:'center',width:100,field:'coinnum'">分享获取嗨币数量</th>
							<th
								data-options="align:'center',width:100,field:'sharesumnum'">分享总次数</th>
						</tr>
					</thead>
				</table>
			</div>
		</div>
	</div>
</div>

<div id="shareRuleWindow" class="easyui-window" title="分享规则设置操作"
	data-options="closed:true,inline:true,onOpen:shareRuleManager.clearForm"
	style="width: 420px; height: 300px; padding: 5px;">
	<div class="easyui-layout" data-options="fit:true">
		<div data-options="region:'center'" style="padding: 10px;">
			<form id="shareRuleForm">
				<input type="hidden" name="id" id="shareId">
				<p>
					<label class="bolb">规则类型:</label> <select id="sharetype"
						name="sharetype" class="easyui-combobox"
						data-options="required:true,panelHeight:'auto',editable:false,onChange:function(newValue,oldValue){
							if(newValue == 0){
								$('#sharesumnum').numberbox('disable');
								$('#sharesumnum').numberbox('setValue', 0);
							}
							else{
								$('#sharesumnum').numberbox('enable');
								$('#sharesumnum').numberbox('setValue', 1);
							}
						}">
						<option checked value="0">无次数限制</option>
						<option value="1">有次数限制</option>
					</select>
				</p>
				<p>
					<label class="bolb">分享次数:</label> <input id="sharesumnum" 
						name="sharesumnum" type="text" class="easyui-numberbox"
						data-options="min:0,precision:0,max:1000" />
				</p>
				<p>
					<label class="bolb">嗨币数量:</label> <input id="coinnum"
						name="coinnum" type="text" class="easyui-validatebox sleek"
						data-options="required:true,validType:'length[1,5]'" maxlength="5" />
				</p>
			</form>
		</div>
		<div data-options="region:'south',border:false"
			style="text-align: right; padding: 5px 0 0;">
			<a class="easyui-linkbutton" data-options="iconCls:'icon-ok'"
				href="javascript:void(0)" onclick="shareRuleManager.addSub()">确定</a>
			<a class="easyui-linkbutton" data-options="iconCls:'icon-cancel'"
				href="javascript:void(0)" onclick="shareRuleManager.cancel()">取消</a>
		</div>
	</div>
</div>
<script type="text/javascript"
	src="scripts/opensource/background/shareRule/Manager.js"></script>
<%@ include file="/WEB-INF/views-commons/footer.jsp"%>
